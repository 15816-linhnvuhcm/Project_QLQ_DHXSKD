{"remainingRequest":"D:\\Projects\\example\\template01\\node_modules\\babel-loader\\lib\\index.js!D:\\Projects\\example\\template01\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projects\\example\\template01\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\example\\template01\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projects\\example\\template01\\src\\views\\Login.vue","mtime":1606031563856},{"path":"D:\\Projects\\example\\template01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\example\\template01\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Projects\\example\\template01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\example\\template01\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmciOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkQ6L1Byb2plY3RzL2V4YW1wbGUvdGVtcGxhdGUwMS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZmFjdG9yeSBmcm9tICIuLi9zZXJ2aWNlcy9mYWN0b3J5L3JlcG9zaXRvcnlmYWN0b3J5IjsKaW1wb3J0IGt0X3Nlc3Npb24gZnJvbSAiLi4vc2VydmljZXMvS2llbXRyYV9TZXNzaW9uIjsKdmFyIGF1dGggPSBmYWN0b3J5LmdldCgiYXV0aCIpOwp2YXIga3QgPSBrdF9zZXNzaW9uOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczogewogICAgc291cmNlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgImRlZmF1bHQiOiAiIgogICAgfSwKICAgIGJnQ29sb3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICAiZGVmYXVsdCI6ICJpbmRpZ28iCiAgICB9LAogICAgZmdDb2xvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICJkZWZhdWx0IjogIndoaXRlIgogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfcmVmOwoKICAgIHJldHVybiBfcmVmID0gewogICAgICAvLyBjb2RlIGPhu6dhIGFuaCBMaW5oCiAgICAgIHN0ZXA6IDEsCiAgICAgIGlzTG9nZ2VkaW46IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgc25hY2tiYXJUeXBlOiAic3VjY2VzcyIsCiAgICAgIHNuYWNrYmFyTWVzc2FnZTogIiIsCiAgICAgIHNuYWNrYmFyOiBmYWxzZSwKICAgICAgc2hvd0Vycm9yOiBmYWxzZSwKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIGVycm9yOiBudWxsLAogICAgICBuYW1lUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgIk3DoyBuZ8aw4budaSBkw7luZyBraMO0bmcgxJHGsOG7o2MgYuG7jyB0cuG7kW5nIjsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdiAmJiB2Lmxlbmd0aCA+PSA1IHx8ICJNw6MgbmfGsOG7nWkgZMO5bmcgw610IG5o4bqldCA1IGvDrSB04buxIjsKICAgICAgfV0sCiAgICAgIHB3ZFJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICJN4bqtdCBraOG6qXUga2jDtG5nIMSRxrDhu6NjIGLhu48gdHLhu5FuZyI7CiAgICAgIH1dLAogICAgICAvLyBjb2RlIGPhu6dhIE5hbQogICAgICB0b2tlbjogIiIKICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAibG9hZGluZyIsIGZhbHNlKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJzbmFja2JhciIsIGZhbHNlKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJ0ZXh0IiwgIiIpLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgInRpbWVvdXQiLCAyMDAwKSwgX3JlZjsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmtpZW10cmFfc2Vzc2lvbigpOwogIH0sCiAgbWV0aG9kczogewogICAga2llbXRyYV9zZXNzaW9uOiBmdW5jdGlvbiBraWVtdHJhX3Nlc3Npb24oKSB7CiAgICAgIGlmIChrdC5nZXRUb2tlbkJ5TG9jYWwoKSkgdGhpcy4kcm91dGVyLnB1c2goIi9ob21lIik7CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBzZWxmLmxvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgdXNlciA9IHsKICAgICAgICBtYV9ORDogc2VsZi51c2VybmFtZSwKICAgICAgICBNYXRraGF1OiBzZWxmLnBhc3N3b3JkCiAgICAgIH07CiAgICAgIGF1dGguYXV0aCh1c2VyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIC8vIGRlYnVnZ2VyOwogICAgICAgICAgc2VsZi50b2tlbiA9IHJlc3BvbnNlLmRhdGEuZGF0YS5hY2Nlc3NfdG9rZW47CiAgICAgICAgICB2YXIgdmFsdWUgPSB7CiAgICAgICAgICAgIHVzaWQ6IHJlc3BvbnNlLmRhdGEuZGF0YS5uZ3VvaWR1bmcubWFfTkQsCiAgICAgICAgICAgIHRva2VuOiByZXNwb25zZS5kYXRhLmRhdGEudG9rZW4uYWNjZXNzX3Rva2VuCiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgICAgIHZhciBuZXh0aG91ciA9IG5ldyBEYXRlKCk7CiAgICAgICAgICBuZXh0aG91ci5zZXREYXRlKHRvZGF5LmdldERhdGUoKSArIDEpOwogICAgICAgICAgZG9jdW1lbnQuY29va2llID0gInRva2VuX3Nlc3Npb249IiArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArICI7ZXhwaXJlcyA9IiArIG5leHRob3VyICsgIiI7CiAgICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCgiL2hvbWUiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gIHNlbGYuJG1lc3NhZ2UuZXJyb3IoJ1NhaSB0aMO0bmcgdGluIMSRxINuZyBuaOG6rXAnKTsKICAgICAgICAgIF90aGlzLnRleHQgPSAiVMOqbiDEkcSDbmcgbmjhuq1wIGhv4bq3YyBt4bqtdCBraOG6qXUga2jDtG5nIMSRw7puZyI7CiAgICAgICAgICBfdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBzZWxmLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfSwKICB3YXRjaDogey8vIC4uLm1hcEdldHRlcnMoWyJsb2dnZWRJbiJdKSwKICB9LAogIGNvbXB1dGVkOiB7fQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <v-container id=\"signinup-form\" class=\"fill-height\">\r\n    <!-- <Notification\r\n      :message=\"snackbarMessage\"\r\n      :snackbar=\"snackbar\"\r\n      :type=\"snackbarType\"\r\n    /> -->\r\n    <v-row align=\"center\" justify=\"center\" no-gutters>\r\n      <v-col cols=\"12\" sm=\"8\" md=\"8\" class=\"\">\r\n        <v-card :loading=\"loading\" class=\"evelation-12 card\">\r\n          <v-window v-model=\"step\">\r\n            <!--SignIn-->\r\n            <v-window-item :value=\"1\">\r\n              <v-row class=\"\">\r\n                <v-col cols=\"12\" md=\"8\" class=\"pt-6 pb-6\">\r\n                  <v-card-text>\r\n                    <v-form\r\n                      v-model=\"valid\"\r\n                      class=\"signup-form-form\"\r\n                      @submit.prevent=\"login\"\r\n                    >\r\n                      <h1\r\n                        class=\"text-center display-1 mb-10\"\r\n                        :class=\"`${bgColor}--text`\"\r\n                      >\r\n                        Login\r\n                      </h1>\r\n\r\n                      <v-text-field\r\n                        id=\"username\"\r\n                        v-model=\"username\"\r\n                        label=\"Mã người dùng\"\r\n                        name=\"Username\"\r\n                        append-icon=\"mdi-account\"\r\n                        type=\"text\"\r\n                        outlined\r\n                        :counter=\"10\"\r\n                        :rules=\"nameRules\"\r\n                        required\r\n                      />\r\n                      <v-text-field\r\n                        id=\"password\"\r\n                        v-model=\"password\"\r\n                        label=\"Mật khẩu\"\r\n                        name=\"Password\"\r\n                        outlined\r\n                        append-icon=\"mdi-lock\"\r\n                        type=\"password\"\r\n                        :rules=\"pwdRules\"\r\n                        required\r\n                      />\r\n                      <div class=\"text-center\">\r\n                        <a\r\n                          class=\"mt-3 no-text-decoration font-italic\"\r\n                          :class=\"`${bgColor}--text`\"\r\n                        >\r\n                          Chương trình sử dụng account ĐHSXKD để đăng nhập\r\n                        </a>\r\n                      </div>\r\n                      <div class=\"text-center mt-6\">\r\n                        <v-btn\r\n                          type=\"submit\"\r\n                          large\r\n                          :color=\"bgColor\"\r\n                          dark\r\n                          :disabled=\"!valid\"\r\n                          >Đăng nhập</v-btn\r\n                        >\r\n                      </div>\r\n                    </v-form>\r\n                  </v-card-text>\r\n                </v-col>\r\n                <v-col\r\n                  cols=\"12\"\r\n                  md=\"4\"\r\n                  class=\"darken-2 vcenter\"\r\n                  :class=\"`${bgColor}`\"\r\n                >\r\n                  <div>\r\n                    <v-card-text :class=\"`${fgColor}--text`\">\r\n                      <h1 class=\"text-center headline mb-3\">Cấp quyền?</h1>\r\n                      <h5 class=\"text-center mb-3\">\r\n                        Vui lòng liên hệ Admin TTCNTT\r\n                      </h5>\r\n                    </v-card-text>\r\n                    <div class=\"text-center mb-6\">\r\n                    </div>\r\n                  </div>\r\n                </v-col>\r\n              </v-row>\r\n            </v-window-item>\r\n          </v-window>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n    <v-snackbar\r\n        outlined\r\n        color=\"#303F9F\"\r\n        top\r\n        v-model=\"snackbar\"\r\n        :timeout=\"timeout\"\r\n      >\r\n        {{ text }}\r\n  \r\n        <template v-slot:action=\"{ attrs }\">\r\n          <v-btn\r\n            color=\"blue\"\r\n            text\r\n            v-bind=\"attrs\"\r\n            @click=\"snackbar = false\"\r\n          >\r\n            Close\r\n          </v-btn>\r\n        </template>\r\n      </v-snackbar>\r\n  </v-container>\r\n  \r\n</template>\r\n\r\n<script>\r\n\r\nimport factory from \"../services/factory/repositoryfactory\";\r\nimport kt_session from \"../services/Kiemtra_Session\";\r\nconst auth = factory.get(\"auth\");\r\nconst kt=kt_session;\r\nexport default {\r\n  name: \"Login\",\r\n\r\n  components: {},\r\n  props: {\r\n    source: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    bgColor: {\r\n      type: String,\r\n      default: \"indigo\",\r\n    },\r\n    fgColor: {\r\n      type: String,\r\n      default: \"white\",\r\n    },\r\n  },\r\n\r\n  data: () => ({\r\n    // code của anh Linh\r\n    step: 1,\r\n    isLoggedin:true,\r\n    username: \"\",\r\n    password: \"\",\r\n    loading: false,\r\n    snackbarType: \"success\",\r\n    snackbarMessage: \"\",\r\n    snackbar: false,\r\n    showError: false,\r\n    valid: true,\r\n    error: null,\r\n    nameRules: [\r\n      (v) => !!v || \"Mã người dùng không được bỏ trống\",\r\n      (v) => (v && v.length >= 5) || \"Mã người dùng ít nhất 5 kí tự\",\r\n    ],\r\n    pwdRules: [(v) => !!v || \"Mật khẩu không được bỏ trống\"],\r\n\r\n\r\n    // code của Nam\r\n    token: \"\", //save token\r\n    loading:false,\r\n\r\n    snackbar: false,\r\n    text: \"\",\r\n    timeout: 2000,\r\n  }),\r\n  created(){\r\n    this.kiemtra_session();\r\n  },\r\n  methods: {\r\n    kiemtra_session()\r\n    {\r\n      if(kt.getTokenByLocal())\r\n        this.$router.push(\"/home\");\r\n    },\r\n    login()\r\n    {\r\n      var self=this;\r\n      self.loading=true;\r\n      var user={ma_ND:self.username, Matkhau:self.password}\r\n      auth.auth(user).then(response=>{\r\n        if (response.data.success) {\r\n          // debugger;\r\n            self.token = response.data.data.access_token;\r\n            var value = {\r\n                usid: response.data.data.nguoidung.ma_ND,\r\n                token: response.data.data.token.access_token\r\n            };\r\n            var today = new Date();\r\n            var nexthour = new Date();\r\n            nexthour.setDate(today.getDate() + 1);\r\n            document.cookie = \"token_session=\" + JSON.stringify(value) + \";expires =\" +nexthour +\"\";\r\n            self.$router.push(\"/home\");\r\n\r\n        }\r\n        else\r\n        {\r\n        //  self.$message.error('Sai thông tin đăng nhập');\r\n          this.text=\"Tên đăng nhập hoặc mật khẩu không đúng\";\r\n          this.snackbar = true;\r\n        }\r\n        self.loading=false;\r\n      });\r\n    }\r\n  },\r\n  watch: {\r\n    // ...mapGetters([\"loggedIn\"]),\r\n  },\r\n  computed: {},\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.v-input__icon--double .v-input__icon {\r\n  margin-left: -4.25rem !important;\r\n}\r\na.no-text-decoration {\r\n  text-decoration: none;\r\n}\r\n#signinup-form {\r\n  max-width: 75rem;\r\n}\r\n.signup-form-form {\r\n  max-width: 23rem;\r\n  margin: 0 auto;\r\n}\r\n.card {\r\n  overflow: hidden;\r\n}\r\n.vcenter {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}